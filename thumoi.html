<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Thiệp Mời Tất Niên Tâm Đức</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Bellota+Text:wght@300;400;700&family=Dancing+Script:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <style>
      :root {
        --bg: #111;
        --env-color: #222;
        --marble-bg: #fff;
        --marble-pattern: radial-gradient(
            circle at 50% 50%,
            rgba(0, 0, 0, 0.02) 0%,
            transparent 50%
          ),
          linear-gradient(
            45deg,
            transparent 48%,
            rgba(197, 160, 40, 0.3) 50%,
            transparent 50%
          ),
          linear-gradient(
            -45deg,
            transparent 45%,
            rgba(0, 0, 0, 0.1) 50%,
            transparent 55%
          );
        --gold-text: #e6c986;
        --grad: linear-gradient(135deg, #ff6a88, #602580);
        --white: #fff;
        --text: #1a0b2e;
        --font-main: "Libre Baskerville", sans-serif;
        --font-script: "Dancing Script", cursive;
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      .card::-webkit-scrollbar {
        width: 6px;
      }

      .card::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 4px;
      }

      .card::-webkit-scrollbar-thumb {
        background: linear-gradient(#ff6a88, #602580);
        border-radius: 4px;
      }

      .card::-webkit-scrollbar-thumb:hover {
        background: #602580;
      }

      body {
        font-family: var(--font-main);
        background: var(--bg);
        height: 100vh;
        width: 100vw;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
        position: relative;
        perspective: 1200px;
        font-weight: 400;
      }

      #canvas-petals {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 90;
        pointer-events: none;
      }

      .music-box {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 100;
        width: 40px;
        height: 40px;
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.3);
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        transition: 0.3s;
        opacity: 0;
        animation: fadeInMusic 2s ease forwards 1s;
      }

      @keyframes fadeInMusic {
        to {
          opacity: 1;
        }
      }

      .music-box i {
        color: #e6c986;
        font-size: 18px;
      }

      .music-box.playing {
        animation: rotateMusic 3s linear infinite;
        background: rgba(230, 201, 134, 0.2);
        border-color: #e6c986;
      }

      @keyframes rotateMusic {
        0% {
          transform: rotate(0deg);
        }

        100% {
          transform: rotate(360deg);
        }
      }

      #envelope-wrap {
        position: absolute;
        z-index: 50;
        width: 550px;
        height: 350px;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        transition: transform 1s cubic-bezier(0.4, 0, 0.2, 1), opacity 2s ease;
        filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.05))
          drop-shadow(0 20px 30px #000);
      }

      .envelope {
        position: relative;
        width: 100%;
        height: 100%;
        background-color: var(--env-color);
        border-radius: 4px;
        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.05);
      }

      .envelope-lining {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: var(--marble-bg);
        background-image: var(--marble-pattern);
        background-size: 80px 80px;
        z-index: 1;
        border-radius: 4px;
      }

      .lid {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 5;
        transform-origin: top;
        transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1) 0.1s;
        pointer-events: none;
      }

      .lid-front {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 175px;
        background-color: var(--env-color);
        clip-path: polygon(0 0, 50% 100%, 100% 0);
        z-index: 2;
        box-shadow: inset 0 5px 10px rgba(241, 240, 240, 0.5);
        border-top: 1px solid rgba(255, 255, 255, 0.05);
      }

      .lid-back {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 105px;
        background-color: var(--marble-bg);
        background-image: var(--marble-pattern);
        background-size: 100px 100px;
        clip-path: polygon(0 0, 50% 80%, 80% 0);
        z-index: 1;
      }

      .pocket-left,
      .pocket-right {
        position: absolute;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: var(--env-color);
        z-index: 3;
        border: none;
      }

      .pocket-left {
        left: 0;
        clip-path: polygon(0 0, 0% 100%, 100% 100%);
      }

      .pocket-left::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.05),
          transparent 50%
        );
        pointer-events: none;
      }

      .pocket-right {
        right: 0;
        clip-path: polygon(100% 0, 100% 100%, 0% 100%);
      }

      .pocket-bottom {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 4;
        clip-path: polygon(0 100%, 50% 55%, 100% 100%);
        background-color: var(--env-color);
        background-image: linear-gradient(
          to top,
          rgba(0, 0, 0, 0.3),
          transparent
        );
      }

      .pocket-bottom::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.08);
        clip-path: polygon(0 100%, 50% 54%, 100% 100%);
        z-index: -1;
      }

      .wax-seal {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -30%);
        width: 90px;
        height: 90px;
        background: #fff;
        border-radius: 50%;
        border: 3px solid #e6c986;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 6;
        cursor: pointer;
        transition: all 0.5s ease;
        overflow: hidden;
      }

      .wax-seal img {
        width: 210%;
        height: auto;
        object-fit: contain;
      }

      .wax-seal:hover {
        transform: translate(-50%, -30%) scale(1.1) rotate(10deg);
        box-shadow: 0 0 20px rgba(230, 201, 134, 0.6);
        border-color: #ff6a88;
      }

      .wax-seal i {
        display: none;
      }

      .envelope-msg {
        position: absolute;
        bottom: 35px;
        width: 100%;
        text-align: center;
        font-family: var(--font-script);
        font-size: 34px;
        font-weight: 700;
        color: var(--gold-text);
        z-index: 6;
        letter-spacing: 1px;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.9);
      }

      .envelope-open .lid {
        transform: rotateX(180deg);
        z-index: 1;
        transition-delay: 0s;
      }

      .envelope-open .wax-seal {
        opacity: 0;
        pointer-events: none;
      }

      .envelope-open {
        transform: translateY(350px) scale(0.7) !important;
        opacity: 0;
        pointer-events: none;
      }

      .wrap {
        position: absolute;
        z-index: 10;
        width: 90vw;
        max-width: 500px;
        transition: transform 1s cubic-bezier(0.25, 1, 0.5, 1) 0.5s,
          opacity 0.8s ease 0.5s;
        opacity: 0;
        transform: scale(0.8) translateY(50px);
        pointer-events: none;
        max-height: 90vh;
        display: flex;
        flex-direction: column;
      }

      .wrap.show-card {
        opacity: 1;
        transform: scale(1) translateY(0);
        pointer-events: auto;
      }

      .wrap.show-card .logo,
      .wrap.show-card .brand,
      .wrap.show-card h2,
      .wrap.show-card .lead,
      .wrap.show-card .box,
      .wrap.show-card .guest-box,
      .wrap.show-card .btn,
      .wrap.show-card .btn-back,
      .wrap.show-card .map-btn-wrap,
      .wrap.show-card .timeline-box {
        animation: slideUpFade 0.8s ease forwards;
        opacity: 0;
        transform: translateY(20px);
      }

      .wrap.show-card .logo {
        animation-delay: 0.7s;
      }
      .wrap.show-card .brand {
        animation-delay: 0.8s;
      }
      .wrap.show-card h2 {
        animation-delay: 0.9s;
      }
      .wrap.show-card .lead {
        animation-delay: 1s;
      }
      .wrap.show-card .box {
        animation-delay: 1.1s;
      }
      .wrap.show-card .guest-box {
        animation-delay: 1.2s;
      }
      .wrap.show-card .btn {
        animation-delay: 1.3s;
      }
      .wrap.show-card .btn-back {
        animation-delay: 1.4s;
      }
      .wrap.show-card .map-btn-wrap {
        animation-delay: 0.3s;
      }
      .wrap.show-card .timeline-box {
        animation-delay: 0.5s;
      }

      @keyframes slideUpFade {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .card {
        background: var(--white);
        border-radius: 8px;
        box-shadow: 0 30px 60px rgba(0, 0, 0, 0.8),
          0 0 15px rgba(255, 106, 136, 0.4);
        overflow: hidden;
        text-align: center;
        padding: 4px;
        overflow-y: auto;
        max-height: 90vh;
        background: linear-gradient(60deg, #ff6a88, #602580, #c5a028, #ff6a88);
        background-size: 300% 300%;
        animation: borderAnim 4s ease infinite;
      }

      @keyframes borderAnim {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      .border-inner {
        background: #fff;
        border: 1px solid #e6c986;
        padding: 20px 10px;
        border-radius: 4px;
        min-height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        position: relative;
        box-shadow: inset 0 0 20px rgba(230, 201, 134, 0.1);
      }

      .border-inner::before {
        content: "";
        position: absolute;
        top: 10px;
        left: 10px;
        width: 40px;
        height: 40px;
        border-top: 2px solid #c5a028;
        border-left: 2px solid #c5a028;
        pointer-events: none;
      }

      .border-inner::after {
        content: "";
        position: absolute;
        bottom: 10px;
        right: 10px;
        width: 40px;
        height: 40px;
        border-bottom: 2px solid #c5a028;
        border-right: 2px solid #c5a028;
        pointer-events: none;
      }

      .card::-webkit-scrollbar {
        width: 0;
      }

      .logo {
        width: 100px;
        margin: 0 auto 10px auto;
        animation: floatLogo 3s ease-in-out infinite;
      }

      @keyframes floatLogo {
        0% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-8px);
        }
        100% {
          transform: translateY(0px);
        }
      }

      .brand {
        font-family: "Libre Baskerville", "Baskerville", "Baskerville Old Face",
          serif;
        font-style: italic;
        font-size: 45px;
        font-weight: 700;
        letter-spacing: 0;
        line-height: 1.1;
        background: linear-gradient(
          to right,
          #602580 0%,
          #ff6a88 20%,
          #c5a028 50%,
          #ff6a88 80%,
          #602580 100%
        );
        background-size: 200% auto;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        animation: shineText 5s linear infinite;
      }

      @keyframes shineText {
        to {
          background-position: 200% center;
        }
      }

      .sub {
        font-size: 13px;
        color: #602580;
        letter-spacing: 2px;
        text-transform: uppercase;
        margin-bottom: 10px;
        font-weight: 700;
      }

      .divi {
        font-size: 14px;
        color: #c5a028;
        margin-bottom: 15px;
        letter-spacing: 4px;
      }

      h2 {
        font-size: 28px;
        color: #111;
        margin: 5px 0;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      .lead {
        font-size: 16px;
        color: #555;
        margin-bottom: 15px;
        font-style: normal;
        line-height: 1.5;
        padding: 0 10px;
      }

      .box {
        background: #fdfdfd;
        border-top: 1px solid #eee;
        border-bottom: 1px solid #eee;
        padding: 15px 5px;
        margin-bottom: 15px;
        text-align: left;
      }

      .row {
        display: flex;
        align-items: center;
        margin-bottom: 12px;
      }

      .row:last-child {
        margin-bottom: 0;
      }

      .icon {
        min-width: 36px;
        height: 36px;
        color: #602580;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
        margin-right: 10px;
        border: 1px solid rgba(96, 37, 128, 0.2);
        border-radius: 50%;
        background: #f4eff6;
      }

      .txt {
        font-family: var(--font-main);
        font-size: 18px;
        font-weight: 700;
        color: var(--text);
        line-height: 1.2;
      }

      .lbl {
        font-size: 11px;
        color: #888;
        text-transform: uppercase;
        letter-spacing: 1px;
        font-weight: 600;
        display: block;
        margin-bottom: 3px;
      }

      .guest-box {
        margin-bottom: 20px;
        padding: 10px;
        background: #fdfdfd;
        border: 1px dashed #c5a028;
        border-radius: 4px;
      }
      .guest-label {
        font-size: 14px;
        color: #666;
        margin-bottom: 5px;
        display: block;
      }
      .guest-name-display {
        font-size: 22px;
        font-weight: 700;
        color: #602580;
        font-family: var(--font-main);
      }

      .btn {
        padding: 12px 0;
        width: 100%;
        background: var(--grad);
        color: #fff;
        border-radius: 4px;
        border: none;
        font-size: 16px;
        font-weight: 700;
        cursor: pointer;
        box-shadow: 0 8px 20px rgba(96, 37, 128, 0.3);
        font-family: var(--font-main);
        text-transform: uppercase;
        letter-spacing: 1px;
        transition: 0.3s;
        animation: pulseBtn 2s infinite;
        position: relative;
        overflow: hidden;
        z-index: 1;
        text-decoration: none;
        display: inline-block;
      }

      .btn::after {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.5),
          transparent
        );
        animation: shineBtn 3s infinite;
        pointer-events: none;
      }

      .btn-back {
        background: transparent;
        border: 1px solid #602580;
        color: #602580;
        padding: 10px 0;
        width: 100%;
        margin-top: 10px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 700;
        text-transform: uppercase;
        font-family: var(--font-main);
        transition: 0.3s;
      }
      .btn-back:hover {
        background: #f4eff6;
        color: #4a1d63;
      }

      @keyframes shineBtn {
        0% {
          left: -100%;
        }
        20% {
          left: 100%;
        }
        100% {
          left: 100%;
        }
      }

      .map-btn-wrap {
        margin: 10px 0 20px 0;
      }
      .map-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 10px 25px;
        background: #fff;
        color: #602580;
        border: 2px solid #602580;
        border-radius: 30px;
        text-decoration: none;
        font-weight: 700;
        font-size: 15px;
        transition: 0.3s;
        box-shadow: 0 4px 10px rgba(96, 37, 128, 0.1);
      }
      .map-btn i {
        margin-right: 8px;
        font-size: 18px;
      }
      .map-btn:hover {
        background: #602580;
        color: #fff;
        transform: translateY(-2px);
        box-shadow: 0 6px 15px rgba(96, 37, 128, 0.25);
      }

      .timeline-box {
        margin-top: 10px;
        text-align: left;
        border-top: 1px solid #eee;
        padding-top: 15px;
        width: 100%;
        opacity: 0;
      }
      .tl-title {
        font-size: 18px;
        font-weight: 700;
        color: #c5a028;
        text-align: center;
        margin-bottom: 15px;
        text-transform: uppercase;
      }
      .tl-item {
        display: flex;
        margin-bottom: 15px;
        position: relative;
      }
      .tl-time {
        width: 60px;
        font-weight: 700;
        color: #602580;
        font-size: 14px;
        text-align: right;
        margin-right: 15px;
        flex-shrink: 0;
      }
      .tl-content {
        border-left: 2px solid #e0e0e0;
        padding-left: 15px;
        position: relative;
        padding-bottom: 5px;
      }
      .tl-content::before {
        content: "";
        position: absolute;
        left: -6px;
        top: 0;
        width: 10px;
        height: 10px;
        background: #c5a028;
        border-radius: 50%;
      }
      .tl-h {
        font-weight: 700;
        font-size: 15px;
        color: #333;
        margin-bottom: 2px;
      }
      .tl-d {
        font-size: 13px;
        color: #666;
      }

      .sig {
        margin-top: 20px;
        font-size: 20px;
        font-weight: 700;
        color: #c5a028;
        font-family: var(--font-script);
        letter-spacing: 0;
      }

      .hid {
        display: none !important;
      }
      .vis {
        display: block !important;
      }
      #swarm {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        pointer-events: none;
        z-index: 99;
        display: none;
      }
      #back {
        position: absolute;
        width: 100%;
        height: 100%;
        background: #0f0518;
        opacity: 0;
        transition: opacity 0.8s ease;
      }
      .plane {
        position: absolute;
        color: #fff;
        bottom: -200px;
        transform: rotate(-90deg);
        background: -webkit-linear-gradient(#ff6a88, #602580);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.5));
      }
      @keyframes fly {
        to {
          bottom: 120vh;
          opacity: 1;
        }
      }

      @media (max-width: 600px) {
        #envelope-wrap {
          transform: scale(0.62);
          width: 550px;
        }
        .brand {
          font-size: 38px;
        }
        h2 {
          font-size: 22px;
        }
        .txt {
          font-size: 16px;
        }
        .lead {
          font-size: 15px;
        }
        .card {
          padding: 8px;
        }
        .border-inner {
          padding: 15px 5px;
        }
      }
      @media (max-width: 380px) {
        #envelope-wrap {
          transform: scale(0.55);
        }
        .brand {
          font-size: 32px;
        }
        h2 {
          font-size: 20px;
        }
      }
    </style>
  </head>

  <body>
    <canvas id="canvas-petals"></canvas>
    <audio id="bg-music" loop autoplay>
      <source src="nhac.mp3" type="audio/mpeg" />
    </audio>
    <div class="music-box" id="music-btn"><i class="fas fa-music"></i></div>
    <div id="swarm">
      <div id="back"></div>
    </div>

    <div id="envelope-wrap">
      <div class="envelope">
        <div class="envelope-lining"></div>
        <div class="lid">
          <div class="lid-back"></div>
          <div class="lid-front"></div>
        </div>
        <div class="pocket-left"></div>
        <div class="pocket-right"></div>
        <div class="pocket-bottom"></div>
        <div class="wax-seal">
          <img src="logo.jpg" alt="Logo Tâm Đức" />
        </div>
        <div class="envelope-msg" style="font-size: 15px">
          (Nhấn vào để mở thiệp) <br />
          <div class="envelope-msg">Kính gửi Quý Đối Tác</div>
        </div>
      </div>
    </div>

    <div class="wrap" id="c1">
      <div class="card">
        <div class="border-inner">
          <img
            style="width: 150px; margin: 0 auto 10px auto"
            src="logo(1)(1).jpg"
            class="logo"
          />
          <div class="divi">♦ ❖ ♦</div>
          <p class="lead">THƯ MỜI THAM DỰ.</p>
          <h6 class="brand" style="font-size: 30px">Tiệc Tất Niên</h6>
          <div class="timeline-box" style="opacity: 1">
            <div class="tl-title">NỘI DUNG SỰ KIỆN</div>
            <div class="tl-item">
              <div class="tl-time">16h00 - 17h00</div>
              <div class="tl-content">
                <div class="tl-h">ĐÓN KHÁCH</div>
                <div class="tl-d">Check-in</div>
              </div>
            </div>
            <div class="tl-item">
              <div class="tl-time">17h00 - 17h15</div>
              <div class="tl-content">
                <div class="tl-h">KHAI MẠC</div>
                <div class="tl-d">Văn nghệ chào mừng</div>
              </div>
            </div>
            <div class="tl-item">
              <div class="tl-time">17h15 - 17h45</div>
              <div class="tl-content">
                <div class="tl-h">Giới thiệu Tâm Đức và Đội ngũ</div>
              </div>
            </div>
            <div class="tl-item">
              <div class="tl-time">17h45 - 18h</div>
              <div class="tl-content">
                <div class="tl-h">Tổ chức sinh nhật</div>
                <div class="tl-d">
                  Chúc mừng sinh nhật các thành viên Tháng 1, Tháng 2
                </div>
              </div>
            </div>
            <div class="tl-item">
              <div class="tl-time">18h00 - 18h15</div>
              <div class="tl-content">
                <div class="tl-h">Khai tiệc</div>
              </div>
            </div>
            <div class="tl-item">
              <div class="tl-time">18h15 - 19h30</div>
              <div class="tl-content">
                <div class="tl-h">Văn nghệ tất niên</div>
                <div class="tl-d">Các tiết mục Văn Nghệ của Tâm Đức</div>
              </div>
            </div>
            <div class="tl-item">
              <div class="tl-time">19h30 - 20h</div>
              <div class="tl-content">
                <div class="tl-h">Bốc thăm trúng thưởng</div>
                <div class="tl-d">Chương trình Lô Tô trúng thưởng</div>
              </div>
            </div>
            <div class="tl-item">
              <div class="tl-time">20h00 - 20h45</div>
              <div class="tl-content">
                <div class="tl-h">Văn nghệ tự do</div>
                <div class="tl-d">
                  Mọi người thử sức với các tiết mục văn nghệ tự do
                </div>
              </div>
            </div>
            <div class="tl-item">
              <div class="tl-time">20h45 - 21h00</div>
              <div class="tl-content">
                <div class="tl-h">Kết thúc</div>
                <div class="tl-d">Chụp ảnh lưu niệm tập thể</div>
              </div>
            </div>
          </div>
          <button class="btn" id="btn-to-details" style="margin-top: 15px">
            Xem địa điểm tổ chức
          </button>
        </div>
      </div>
    </div>

    <div class="wrap hid" id="c2">
      <div class="card">
        <div class="border-inner">
          <img
            style="width: 185px; margin: 0 auto 10px auto; display: block"
            src="logo(1)(1).jpg"
            class="logo"
          />
          <div class="sub" style="font-size: 23px">
            HỆ THỐNG GIÁO DỤC TÂM ĐỨC
          </div>
          <div class="divi">♦ ❖ ♦</div>
          <p class="lead">THƯ MỜI THAM DỰ.</p>
          <h6 class="brand" style="font-size: 30px">Tiệc Tất Niên</h6>
          <p class="lead" style="font-size: 12px">
            TRÂN TRỌNG KÍNH MỜI QUÝ ĐỐI TÁC THAM DỰ BUỔI TIỆC.
          </p>
          <div class="box">
            <div class="row">
              <div class="icon"><i class="far fa-clock"></i></div>
              <div>
                <span class="lbl">Thời gian</span>
                <span class="txt">Ngày: 11/01/2025 <br />Giờ: 16h - 21h</span>
              </div>
            </div>
            <div class="row">
              <div class="icon"><i class="fas fa-map-marker-alt"></i></div>
              <div>
                <span class="lbl">Địa điểm</span>
                <span class="txt">Nhà Hàng Thanh Tùng</span>
                <div class="map-btn-wrap">
                  <a
                    href="https://maps.app.goo.gl/YmazrQ286mGDeusx9"
                    target="_blank"
                    class="map-btn"
                  >
                    <i class="fas fa-map-marked-alt"></i> Xem Bản Đồ
                  </a>
                </div>
              </div>
            </div>
          </div>

          <div class="guest-box">
            <span class="guest-label">Trân trọng kính mời:</span>
            <div class="guest-name-display" id="guest-display">Quý Khách</div>
          </div>
          <button class="btn" id="b">Xác Nhận Tham Gia</button>

          <button class="btn-back" id="btn-back-to-timeline">
            ← Quay Lại Lịch Trình
          </button>
        </div>
      </div>
    </div>

    <div class="wrap hid" id="c3">
      <div class="card">
        <div
          class="border-inner"
          style="
            display: flex;
            flex-direction: column;
            justify-content: center;
            min-height: 400px;
          "
        >
          <img
            style="width: 185px; margin: 0 auto 10px auto"
            src="logo(1)(1).jpg"
            class="logo"
          />
          <div>
            <h2 style="color: #602580; font-size: 20px">
              Xác Nhận<br />Thành Công
            </h2>
          </div>
          <div style="margin: 20px 0">
            <p class="lead" style="margin-bottom: 10px">
              Hân hạnh được đón tiếp<br />
              <span
                id="show-name"
                style="font-weight: 700; color: #c5a028; font-size: 22px"
              ></span>
            </p>
          </div>
          <div class="sig">Hẹn gặp quý đối tác tại buổi lễ</div>

          <button class="btn-back" id="btn-back-from-success">
            ← Quay Lại Lịch Trình
          </button>
        </div>
      </div>
    </div>

    <script>
      const FORM_ACTION_URL =
        "https://docs.google.com/forms/d/e/1FAIpQLSfskzQHqmZ7tC9LoUoEpEnkkNQAyvqmt4vsVip6xaYHSdLkDw/formResponse";
      const ENTRY_ID = "entry.42927811";

      const envelopeWrap = document.getElementById("envelope-wrap");
      const c1 = document.getElementById("c1"),
        c2 = document.getElementById("c2"),
        c3 = document.getElementById("c3");
      const audio = document.getElementById("bg-music"),
        musicBtn = document.getElementById("music-btn");
      let isMusicPlaying = false;

      const urlParams = new URLSearchParams(window.location.search);
      const guestNameParam = urlParams.get("n");
      const guestDisplay = document.getElementById("guest-display");
      const showName = document.getElementById("show-name");

      let finalName = "Quý Khách";
      if (guestNameParam) {
        finalName = guestNameParam.replace(/_/g, " ");
        guestDisplay.innerText = finalName;
      }

      function tryPlayMusic() {
        if (!isMusicPlaying) {
          audio.volume = 0.5;
          audio
            .play()
            .then(() => {
              isMusicPlaying = true;
              musicBtn.classList.add("playing");
              document.body.removeEventListener("click", tryPlayMusic);
              document.body.removeEventListener("touchstart", tryPlayMusic);
            })
            .catch((e) => {
              console.log("Chờ tương tác để phát nhạc");
            });
        }
      }

      window.addEventListener("load", tryPlayMusic);
      document.body.addEventListener("click", tryPlayMusic);
      document.body.addEventListener("touchstart", tryPlayMusic);

      envelopeWrap.addEventListener("click", () => {
        envelopeWrap.classList.add("envelope-open");
        c1.classList.add("show-card");
        tryPlayMusic();
      });

      musicBtn.addEventListener("click", (e) => {
        e.stopPropagation();
        if (isMusicPlaying) {
          audio.pause();
          musicBtn.classList.remove("playing");
          isMusicPlaying = false;
        } else {
          audio.play();
          musicBtn.classList.add("playing");
          isMusicPlaying = true;
        }
      });

      const btnToDetails = document.getElementById("btn-to-details");
      const btnBackToTimeline = document.getElementById("btn-back-to-timeline");

      const btnBackFromSuccess = document.getElementById(
        "btn-back-from-success"
      );

      const b = document.getElementById("b");
      const s = document.getElementById("swarm"),
        bg = document.getElementById("back");

      function r(m, x) {
        return Math.random() * (x - m) + m;
      }

      btnToDetails.onclick = () => {
        c1.classList.remove("show-card");
        c1.classList.add("hid");
        c2.classList.remove("hid");
        setTimeout(() => {
          c2.classList.add("show-card");
        }, 50);
        window.scrollTo(0, 0);
      };

      btnBackToTimeline.onclick = () => {
        c2.classList.remove("show-card");
        c2.classList.add("hid");

        c1.classList.remove("hid");
        setTimeout(() => {
          c1.classList.add("show-card");
        }, 50);
        window.scrollTo(0, 0);
      };

      btnBackFromSuccess.onclick = () => {
        c3.classList.remove("show-card");
        c3.classList.add("hid");

        c1.classList.remove("hid");
        setTimeout(() => {
          c1.classList.add("show-card");
        }, 50);
        window.scrollTo(0, 0);
      };

      b.onclick = () => {
        showName.innerText = finalName;

        if (FORM_ACTION_URL.includes("docs.google.com")) {
          const formData = new FormData();
          formData.append(ENTRY_ID, finalName);
          fetch(FORM_ACTION_URL, {
            method: "POST",
            body: formData,
            mode: "no-cors",
          }).catch((e) => console.log(e));
        }

        s.style.display = "block";
        setTimeout(() => {
          bg.style.opacity = "1";
        }, 300);
        for (let i = 0; i < 30; i++) {
          let p = document.createElement("i");
          p.className = "fas fa-plane plane";
          p.style.left = r(-5, 105) + "vw";
          p.style.fontSize = r(30, 80) + "px";
          p.style.animation = `fly ${r(2, 3)}s ease-in forwards`;
          p.style.animationDelay = r(0, 0.6) + "s";
          s.appendChild(p);
        }
        setTimeout(() => {
          c2.classList.remove("show-card");
          c2.classList.add("hid");
          c3.classList.remove("hid");
          c3.classList.add("show-card");
        }, 1200);
        setTimeout(() => {
          bg.style.opacity = "0";
        }, 2000);
        setTimeout(() => {
          s.style.display = "none";
          s.innerHTML = '<div id="back"></div>';
        }, 3500);
      };

      const canvas = document.getElementById("canvas-petals"),
        ctx = canvas.getContext("2d");
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      const stars = [];
      const numStars = 50;

      class Star {
        constructor() {
          this.x = Math.random() * canvas.width;
          this.y = Math.random() * canvas.height - canvas.height;
          this.size = Math.random() * 2 + 7.2;
          this.speed = Math.random() * 1.5 + 2;
          this.angle = Math.random() * 360;
          this.spin = Math.random() * 0.03 - 0.01;
          this.color = `rgba(255, 255, ${200 + Math.random() * 55}, ${
            Math.random() * 0.8 + 0.2
          })`;
        }
        update() {
          this.y += this.speed;
          this.angle += this.spin;
          if (this.y > canvas.height) {
            this.y = -20;
            this.x = Math.random() * canvas.width;
          }
        }
        draw() {
          ctx.save();
          ctx.translate(this.x, this.y);
          ctx.rotate(this.angle);
          ctx.fillStyle = this.color;
          ctx.beginPath();
          const colors = ["#c5a028", "#ff6a88", "rgba(255,255,255,0.8)"];
          const colorIndex = Math.floor(this.x % colors.length);
          ctx.fillStyle = colors[colorIndex];
          for (let i = 0; i < 5; i++) {
            ctx.lineTo(
              Math.cos(((18 + i * 72) * Math.PI) / 180) * this.size,
              Math.sin(((18 + i * 72) * Math.PI) / 180) * this.size
            );
            ctx.lineTo(
              Math.cos(((54 + i * 72) * Math.PI) / 180) * (this.size / 2),
              Math.sin(((54 + i * 72) * Math.PI) / 180) * (this.size / 2)
            );
          }
          ctx.shadowBlur = 15;
          ctx.shadowColor = colors[colorIndex];
          ctx.closePath();
          ctx.fill();
          ctx.restore();
        }
      }

      function initStars() {
        for (let i = 0; i < numStars; i++) stars.push(new Star());
      }
      function animateStars() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        stars.forEach((s) => {
          s.update();
          s.draw();
        });
        requestAnimationFrame(animateStars);
      }

      initStars();
      animateStars();

      window.addEventListener("resize", () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      });
    </script>
  </body>
</html>